import{g as b,q as _,c as g,o as r,j as B,a as u,n as l,D as H,_ as k,x as N,e as S,w as D,b as L,t as C,F as U,r as I,k as F,h as R}from"./Bu59bFmH.js";import{u as A}from"./BlRnx41u.js";import{u as E}from"./Dnjs-pvz.js";import{a as V}from"./DGNsSU9J.js";const W=["srcset"],j=["srcset"],P=["src","alt","width","height","loading"],T=b({__name:"Image",props:{src:{},alt:{},width:{default:void 0},height:{default:void 0},className:{default:""},lazy:{type:Boolean,default:!0}},setup(m){const e=m,c=H(),o=(s,f)=>{if(!s)return"";if(s.startsWith("http"))return s;if(s.startsWith("/uploads/")){const $=c.app.baseURL||"/corippo-dist";if(f){const v=s.split("/").pop();return`${$}/uploads/${f}_${v}`}return`${$}/uploads/${s.split("/uploads/")[1]}`}return s},i=_(()=>o(e.src)),t=_(()=>o(e.src,"large")),n=_(()=>o(e.src,"medium")),a=_(()=>o(e.src,"small"));return(s,f)=>(r(),g("picture",null,[t.value?(r(),g("source",{key:0,srcset:t.value,media:"(min-width: 1024px)"},null,8,W)):B("",!0),n.value?(r(),g("source",{key:1,srcset:n.value,media:"(min-width: 768px)"},null,8,j)):B("",!0),u("img",{src:a.value||i.value,alt:s.alt,class:l([s.$style.image,s.className]),width:s.width,height:s.height,loading:s.lazy?"lazy":"eager"},null,10,P)]))}}),q="_image_12b0u_1",G={image:q},J={$style:G},K=k(T,[["__cssModules",J]]),O=()=>{var o;const e=((o=H().app)==null?void 0:o.baseURL)||"/corippo-dist";return{getImageUrl:i=>{if(!i)return"";if(i.startsWith("http"))return i;if(i.includes("/uploads/")){const t=i.split("/uploads/")[1];return`${e}/uploads/${t}`}return i}}},Q=b({__name:"HighlightCard",props:{highlight:{}},setup(m){return O(),(e,c)=>{const o=K,i=S;return r(),N(i,{to:`/highlights/${e.highlight.slug}`,class:l(e.$style.card)},{default:D(()=>{var t,n;return[u("div",{class:l(e.$style.image)},[L(o,{src:((t=e.highlight.headerImage)==null?void 0:t.url)||"/images/placeholder.jpg",alt:((n=e.highlight.headerImage)==null?void 0:n.alternativeText)||e.highlight.title,lazy:!1},null,8,["src","alt"])],2),u("div",{class:l(e.$style.content)},[u("h3",{class:l(e.$style.title)},C(e.highlight.title),3),u("p",{class:l(e.$style.description)},C(e.highlight.description),3),u("div",{class:l(e.$style.categories)},[(r(!0),g(U,null,I(e.highlight.categories,a=>(r(),g("span",{key:a.slug,class:l(e.$style.category)},C(a.name),3))),128))],2)],2)]}),_:1},8,["to","class"])}}}),X="_card_1pb4t_1",Y="_image_1pb4t_15",Z="_content_1pb4t_26",x="_title_1pb4t_30",ee="_description_1pb4t_36",te="_categories_1pb4t_42",se="_category_1pb4t_48",ae={card:X,image:Y,content:Z,title:x,description:ee,categories:te,category:se},ie={$style:ae},le=k(Q,[["__cssModules",ie]]),oe=["onClick"],ne=b({__name:"CategoryFilter",props:{availableCategories:{},selectedCategories:{}},emits:["update:selectedCategories"],setup(m,{emit:e}){const c=m,o=e,i=t=>{const n=c.selectedCategories.includes(t)?c.selectedCategories.filter(a=>a!==t):[...c.selectedCategories,t];o("update:selectedCategories",n)};return(t,n)=>(r(),g("div",{class:l(t.$style.filter)},[u("div",{class:l(t.$style.categories)},[(r(!0),g(U,null,I(t.availableCategories,a=>(r(),g("button",{key:a,class:l([t.$style.category,{[t.$style.active]:t.selectedCategories.includes(a)}]),onClick:s=>i(a)},C(a),11,oe))),128))],2)],2))}}),re="_filter_1exu3_1",ce="_categories_1exu3_5",ge="_category_1exu3_11",ue="_active_1exu3_23",de={filter:re,categories:ce,category:ge,active:ue},he={$style:de},pe=k(ne,[["__cssModules",he]]),_e=b({__name:"index",async setup(m){var $,w,v,M;let e,c;const{getPageBySlug:o,getHighlightBlocks:i}=A(),t=F([]),{data:n}=([e,c]=R(async()=>V("highlights",async()=>await o("highlights"))),e=await e,c(),e);E({title:(w=($=n.value)==null?void 0:$.seo)==null?void 0:w.metaTitle,meta:[{name:"description",content:(M=(v=n.value)==null?void 0:v.seo)==null?void 0:M.metaDescription}]});const a=_(()=>n.value?i(n.value):[]),s=_(()=>{var h;const d=new Set;return(h=a.value)==null||h.forEach(p=>{var z;(z=p.categories)==null||z.forEach(y=>{y!=null&&y.name&&d.add(y.name)})}),Array.from(d)}),f=_(()=>a.value?t.value.length===0?a.value:a.value.filter(d=>{var h;return(h=d.categories)==null?void 0:h.some(p=>t.value.includes(p.name))}):[]);return(d,h)=>(r(),g("div",{class:l(d.$style.highlights)},[u("h1",{class:l(d.$style.title)},"Highlights",2),L(pe,{availableCategories:s.value,selectedCategories:t.value,"onUpdate:selectedCategories":h[0]||(h[0]=p=>t.value=p)},null,8,["availableCategories","selectedCategories"]),u("div",{class:l(d.$style.grid)},[(r(!0),g(U,null,I(f.value,p=>(r(),N(le,{key:p.slug,highlight:p},null,8,["highlight"]))),128))],2)],2))}}),me="_highlights_17ubz_1",fe="_title_17ubz_12",$e="_grid_17ubz_18",ve={highlights:me,title:fe,grid:$e},ye={$style:ve},Ue=k(_e,[["__cssModules",ye]]);export{Ue as default};
