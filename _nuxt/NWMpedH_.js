import{I as L}from"./u_TU0ayi.js";import{_ as S}from"./DzNJHV5O.js";import{y as A,f as y,p as M,o as n,n as a,w as D,a as d,b as U,t as m,c as h,F as v,r as $,_ as C,j as E,g as N,s as f}from"./A7CfGDCy.js";import{u as R}from"./ISZ4I9Ct.js";import{u as j}from"./oaj4spWd.js";import{a as z}from"./C8onsECx.js";const P=()=>{var g;const e=((g=A().app)==null?void 0:g.baseURL)||"/corippo-dist";return{getImageUrl:i=>{if(!i)return"";if(i.startsWith("http"))return i;if(i.includes("/uploads/")){const t=i.split("/uploads/")[1];return`${e}/uploads/${t}`}return i}}},T=y({__name:"HighlightCard",props:{highlight:{}},setup(p){return P(),(e,c)=>{const g=L,i=S;return n(),M(i,{to:`/highlights/${e.highlight.slug}`,class:a(e.$style.card)},{default:D(()=>{var t,l;return[d("div",{class:a(e.$style.image)},[U(g,{src:((t=e.highlight.headerImage)==null?void 0:t.url)||"/images/placeholder.jpg",alt:((l=e.highlight.headerImage)==null?void 0:l.alternativeText)||e.highlight.title,lazy:!1},null,8,["src","alt"])],2),d("div",{class:a(e.$style.content)},[d("h3",{class:a(e.$style.title)},m(e.highlight.title),3),d("p",{class:a(e.$style.description)},m(e.highlight.description),3),d("div",{class:a(e.$style.categories)},[(n(!0),h(v,null,$(e.highlight.categories,s=>(n(),h("span",{key:s.slug,class:a(e.$style.category)},m(s.name),3))),128))],2)],2)]}),_:1},8,["to","class"])}}}),V="_card_1pb4t_1",W="_image_1pb4t_15",q="_content_1pb4t_26",G="_title_1pb4t_30",J="_description_1pb4t_36",K="_categories_1pb4t_42",O="_category_1pb4t_48",Q={card:V,image:W,content:q,title:G,description:J,categories:K,category:O},X={$style:Q},Y=C(T,[["__cssModules",X]]),Z=["onClick"],x=y({__name:"CategoryFilter",props:{availableCategories:{},selectedCategories:{}},emits:["update:selectedCategories"],setup(p,{emit:e}){const c=p,g=e,i=t=>{const l=c.selectedCategories.includes(t)?c.selectedCategories.filter(s=>s!==t):[...c.selectedCategories,t];g("update:selectedCategories",l)};return(t,l)=>(n(),h("div",{class:a(t.$style.filter)},[d("div",{class:a(t.$style.categories)},[(n(!0),h(v,null,$(t.availableCategories,s=>(n(),h("button",{key:s,class:a([t.$style.category,{[t.$style.active]:t.selectedCategories.includes(s)}]),onClick:b=>i(s)},m(s),11,Z))),128))],2)],2))}}),ee="_filter_1exu3_1",te="_categories_1exu3_5",se="_category_1exu3_11",ae="_active_1exu3_23",ie={filter:ee,categories:te,category:se,active:ae},le={$style:ie},oe=C(x,[["__cssModules",le]]),re=y({__name:"index",async setup(p){var k,B,I,w;let e,c;const{getPageBySlug:g,getHighlightBlocks:i}=R(),t=E([]),{data:l}=([e,c]=N(async()=>z("highlights",async()=>await g("highlights"))),e=await e,c(),e);j({title:(B=(k=l.value)==null?void 0:k.seo)==null?void 0:B.metaTitle,meta:[{name:"description",content:(w=(I=l.value)==null?void 0:I.seo)==null?void 0:w.metaDescription}]});const s=f(()=>l.value?i(l.value):[]),b=f(()=>{var u;const o=new Set;return(u=s.value)==null||u.forEach(r=>{var H;r&&((H=r.categories)==null||H.forEach(_=>{_!=null&&_.name&&o.add(_.name)}))}),Array.from(o)}),F=f(()=>s.value?t.value.length===0?s.value.filter(Boolean):s.value.filter(Boolean).filter(o=>{var u;return(u=o.categories)==null?void 0:u.some(r=>t.value.includes(r.name))}):[]);return(o,u)=>(n(),h("div",{class:a([o.$style.highlights,o.$style.page])},[d("h1",{class:a(o.$style.title)},"Highlights",2),U(oe,{availableCategories:b.value,selectedCategories:t.value,"onUpdate:selectedCategories":u[0]||(u[0]=r=>t.value=r)},null,8,["availableCategories","selectedCategories"]),d("div",{class:a(o.$style.grid)},[(n(!0),h(v,null,$(F.value,r=>(n(),M(Y,{key:r.slug,highlight:r},null,8,["highlight"]))),128))],2)],2))}}),ne="_highlights_1gdch_1",ce="_title_1gdch_12",ge="_grid_1gdch_18",ue={highlights:ne,title:ce,grid:ge},de={$style:ue},ve=C(re,[["__cssModules",de]]);export{ve as default};
