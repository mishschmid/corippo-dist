import{H as F}from"./CYMQa6kp.js";import{f as k,c as g,n as c,a as w,i as M,F as A,r as D,o as u,t as E,_ as H,l as N,g as S,X as p,b as B}from"./DS1KAgSW.js";import{u as V}from"./I2HvrYxS.js";import{u as P}from"./WwIsISgB.js";import{a as z}from"./K9OGq1Mg.js";import"./0rhUwl0Q.js";const L=["onClick"],T=k({__name:"CategoryFilter",props:{availableCategories:{},selectedCategories:{}},emits:["update:selectedCategories"],setup(C,{emit:i}){const o=C,d=i,_=e=>{const n=o.selectedCategories.includes(e)?o.selectedCategories.filter(s=>s!==e):[...o.selectedCategories,e];d("update:selectedCategories",n)},r=()=>{d("update:selectedCategories",[])};return(e,n)=>(u(),g("div",{class:c(e.$style.filter)},[w("div",{class:c(e.$style.categories)},[(u(!0),g(A,null,D(e.availableCategories,s=>(u(),g("button",{key:s,class:c([e.$style.category,{[e.$style.active]:e.selectedCategories.includes(s)}]),onClick:f=>_(s)},E(s),11,L))),128)),e.selectedCategories.length>0?(u(),g("button",{key:0,class:c(e.$style.clearButton),onClick:r,"aria-label":"Clear filters"}," Ã— ",2)):M("",!0)],2)],2))}}),U="_filter_1n384_1",X="_categories_1n384_5",j="_category_1n384_11",q="_active_1n384_20",G="_clearButton_1n384_26",I={filter:U,categories:X,category:j,active:q,clearButton:G},J={$style:I},K=H(T,[["__cssModules",J]]),O=k({__name:"index",async setup(C){var v,y,$,b;let i,o;const{getPageBySlug:d,getHighlightBlocks:_}=V(),r=N([]),{data:e}=([i,o]=S(async()=>z("highlights",async()=>await d("highlights"))),i=await i,o(),i);P({title:(y=(v=e.value)==null?void 0:v.seo)==null?void 0:y.metaTitle,meta:[{name:"description",content:(b=($=e.value)==null?void 0:$.seo)==null?void 0:b.metaDescription}]});const n=p(()=>e.value?_(e.value):[]),s=p(()=>{var a;const t=new Set;return(a=n.value)==null||a.forEach(l=>{var h;l&&((h=l.categories)==null||h.forEach(m=>{m!=null&&m.name&&t.add(m.name)}))}),Array.from(t)}),f=p(()=>{if(!n.value)return[];const t=n.value.filter(Boolean);return r.value.length===0?t:t.filter(a=>{var l;return(l=a.categories)==null?void 0:l.some(h=>r.value.includes(h.name))})});return(t,a)=>(u(),g("div",{class:c([t.$style.highlights,t.$style.page])},[w("h1",{class:c(t.$style.title)},"Highlights",2),B(K,{availableCategories:s.value,selectedCategories:r.value,"onUpdate:selectedCategories":a[0]||(a[0]=l=>r.value=l)},null,8,["availableCategories","selectedCategories"]),B(F,{highlights:f.value},null,8,["highlights"])],2))}}),Q="_highlights_1pwao_1",R="_title_1pwao_12",W={highlights:Q,title:R},Y={$style:W},le=H(O,[["__cssModules",Y]]);export{le as default};
