import{g as C,q as _,c,o as n,j as z,a as g,n as i,_ as b,D as L,x as N,e as S,w as R,b as H,t as y,F as k,r as w,k as A,h as D}from"./Cqtyk9Ws.js";import{u as F}from"./CaDP62Bt.js";import{u as P}from"./CeH6JcFe.js";import{a as T}from"./BWqUDJ5r.js";var E={};const V=["srcset"],W=["srcset"],j=["src","alt","width","height","loading"],q=C({__name:"Image",props:{src:{},alt:{},width:{default:void 0},height:{default:void 0},className:{default:""},lazy:{type:Boolean,default:!0}},setup(p){const t=p,l=(e,m)=>{if(!e)return"";if(e.startsWith("http"))return e;if(e.startsWith("/uploads/")){const f=E.NUXT_PUBLIC_STRAPI_URL||"/corippo-dist";if(m){const v=e.split("/").pop();return`${f}/uploads/${m}_${v}`}return`${f}/uploads/${e.split("/uploads/")[1]}`}return e},r=_(()=>l(t.src)),a=_(()=>l(t.src,"large")),s=_(()=>l(t.src,"medium")),o=_(()=>l(t.src,"small"));return(e,m)=>(n(),c("picture",null,[a.value?(n(),c("source",{key:0,srcset:a.value,media:"(min-width: 1024px)"},null,8,V)):z("",!0),s.value?(n(),c("source",{key:1,srcset:s.value,media:"(min-width: 768px)"},null,8,W)):z("",!0),g("img",{src:o.value||r.value,alt:e.alt,class:i([e.$style.image,e.className]),width:e.width,height:e.height,loading:e.lazy?"lazy":"eager"},null,10,j)]))}}),X="_image_12b0u_1",G={image:X},J={$style:G},K=b(q,[["__cssModules",J]]),O=()=>{var r;const t=((r=L().app)==null?void 0:r.baseURL)||"/corippo-dist";return{getImageUrl:a=>{if(!a)return"";if(a.startsWith("http"))return a;if(a.includes("/uploads/")){const s=a.split("/uploads/")[1];return`${t}/uploads/${s}`}return a}}},Q=C({__name:"HighlightCard",props:{highlight:{}},setup(p){return O(),(t,l)=>{const r=K,a=S;return n(),N(a,{to:`/highlights/${t.highlight.slug}`,class:i(t.$style.card)},{default:R(()=>{var s,o;return[g("div",{class:i(t.$style.image)},[H(r,{src:((s=t.highlight.headerImage)==null?void 0:s.url)||"/images/placeholder.jpg",alt:((o=t.highlight.headerImage)==null?void 0:o.alternativeText)||t.highlight.title,lazy:!1},null,8,["src","alt"])],2),g("div",{class:i(t.$style.content)},[g("h3",{class:i(t.$style.title)},y(t.highlight.title),3),g("p",{class:i(t.$style.description)},y(t.highlight.description),3),g("div",{class:i(t.$style.categories)},[(n(!0),c(k,null,w(t.highlight.categories,e=>(n(),c("span",{key:e.slug,class:i(t.$style.category)},y(e.name),3))),128))],2)],2)]}),_:1},8,["to","class"])}}}),Y="_card_1pb4t_1",Z="_image_1pb4t_15",x="_content_1pb4t_26",ee="_title_1pb4t_30",te="_description_1pb4t_36",se="_categories_1pb4t_42",ae="_category_1pb4t_48",ie={card:Y,image:Z,content:x,title:ee,description:te,categories:se,category:ae},le={$style:ie},oe=b(Q,[["__cssModules",le]]),ne=["onClick"],re=C({__name:"CategoryFilter",props:{availableCategories:{},selectedCategories:{}},emits:["update:selectedCategories"],setup(p,{emit:t}){const l=p,r=t,a=s=>{const o=l.selectedCategories.includes(s)?l.selectedCategories.filter(e=>e!==s):[...l.selectedCategories,s];r("update:selectedCategories",o)};return(s,o)=>(n(),c("div",{class:i(s.$style.filter)},[g("div",{class:i(s.$style.categories)},[(n(!0),c(k,null,w(s.availableCategories,e=>(n(),c("button",{key:e,class:i([s.$style.category,{[s.$style.active]:s.selectedCategories.includes(e)}]),onClick:m=>a(e)},y(e),11,ne))),128))],2)],2))}}),ce="_filter_1exu3_1",ge="_categories_1exu3_5",ue="_category_1exu3_11",de="_active_1exu3_23",he={filter:ce,categories:ge,category:ue,active:de},_e={$style:he},pe=b(re,[["__cssModules",_e]]),me=C({__name:"index",async setup(p){var U,v,I,B;let t,l;const{getPageBySlug:r,getHighlightBlocks:a}=F(),s=A([]),{data:o}=([t,l]=D(async()=>T("highlights",async()=>await r("highlights"))),t=await t,l(),t);P({title:(v=(U=o.value)==null?void 0:U.seo)==null?void 0:v.metaTitle,meta:[{name:"description",content:(B=(I=o.value)==null?void 0:I.seo)==null?void 0:B.metaDescription}]});const e=_(()=>o.value?a(o.value):[]),m=_(()=>{var d;const u=new Set;return(d=e.value)==null||d.forEach(h=>{var M;(M=h.categories)==null||M.forEach($=>{$!=null&&$.name&&u.add($.name)})}),Array.from(u)}),f=_(()=>e.value?s.value.length===0?e.value:e.value.filter(u=>{var d;return(d=u.categories)==null?void 0:d.some(h=>s.value.includes(h.name))}):[]);return(u,d)=>(n(),c("div",{class:i(u.$style.highlights)},[g("h1",{class:i(u.$style.title)},"Highlights",2),H(pe,{availableCategories:m.value,selectedCategories:s.value,"onUpdate:selectedCategories":d[0]||(d[0]=h=>s.value=h)},null,8,["availableCategories","selectedCategories"]),g("div",{class:i(u.$style.grid)},[(n(!0),c(k,null,w(f.value,h=>(n(),N(oe,{key:h.slug,highlight:h},null,8,["highlight"]))),128))],2)],2))}}),fe="_highlights_17ubz_1",ve="_title_17ubz_12",$e="_grid_17ubz_18",ye={highlights:fe,title:ve,grid:$e},Ce={$style:ye},Ie=b(me,[["__cssModules",Ce]]);export{Ie as default};
