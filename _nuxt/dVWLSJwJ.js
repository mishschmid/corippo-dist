import{k as L,l as M,m as F,g as C,p as H,o as g,e as I,n as i,w as R,a as c,i as S,t as m,c as h,F as $,r as y,_ as v,h as z,q as f,s as N,b as A,u as E}from"./BnYGPLAZ.js";import{u as D}from"./Cm-U23VF.js";import{u as P}from"./C8rv4qcg.js";const V={nuxt:{}},q=L(V);function T(){const r=M();return r._appConfig||(r._appConfig=F(q)),r._appConfig}const j=()=>{const l=T().baseURL||"/";return{getImageUrl:d=>d?`${l}uploads${d.split("/uploads")[1]}`:""}},G=["src","alt"],J=C({__name:"HighlightCard",props:{highlight:{}},setup(r){const{getImageUrl:l}=j();return(e,d)=>{const s=I;return g(),H(s,{to:`/highlights/${e.highlight.slug}`,class:i(e.$style.card)},{default:R(()=>{var t;return[c("div",{class:i(e.$style.image)},[c("img",{src:S(l)((t=e.highlight.headerImage)==null?void 0:t.url),alt:e.highlight.title},null,8,G)],2),c("div",{class:i(e.$style.content)},[c("h3",{class:i(e.$style.title)},m(e.highlight.title),3),c("p",{class:i(e.$style.description)},m(e.highlight.description),3),c("div",{class:i(e.$style.tags)},[(g(!0),h($,null,y(e.highlight.categories,a=>(g(),h("span",{key:a.slug,class:i(e.$style.category)},m(a.name),3))),128))],2)],2)]}),_:1},8,["to","class"])}}}),K="_card_1pb4t_1",O="_image_1pb4t_15",Q="_content_1pb4t_26",W="_title_1pb4t_30",X="_description_1pb4t_36",Y="_categories_1pb4t_42",Z="_category_1pb4t_48",x={card:K,image:O,content:Q,title:W,description:X,categories:Y,category:Z},ee={$style:x},te=v(J,[["__cssModules",ee]]),se=["onClick"],ie=C({__name:"CategoryFilter",props:{availableCategories:{},selectedCategories:{}},emits:["update:selectedCategories"],setup(r,{emit:l}){const e=r,d=l,s=t=>{const a=e.selectedCategories.includes(t)?e.selectedCategories.filter(u=>u!==t):[...e.selectedCategories,t];console.log("newCategories:",a),d("update:selectedCategories",a)};return(t,a)=>(g(),h("div",{class:i(t.$style.filter)},[c("div",{class:i(t.$style.categories)},[(g(!0),h($,null,y(t.availableCategories,u=>(g(),h("button",{key:u,class:i([t.$style.category,{[t.$style.active]:t.selectedCategories.includes(u)}]),onClick:b=>s(u)},m(u),11,se))),128))],2)],2))}}),ae="_filter_1exu3_1",oe="_categories_1exu3_5",le="_category_1exu3_11",ne="_active_1exu3_23",re={filter:ae,categories:oe,category:le,active:ne},ce={$style:re},ge=v(ie,[["__cssModules",ce]]),ue=C({__name:"index",async setup(r){var k,U,w;let l,e;E();const{getPageBySlug:d}=D(),s=([l,e]=z(()=>d("highlights")),l=await l,e(),l);P({title:(k=s==null?void 0:s.seo)==null?void 0:k.metaTitle,meta:[{name:"description",content:(U=s==null?void 0:s.seo)==null?void 0:U.metaDescription}],link:(w=s==null?void 0:s.seo)!=null&&w.canonicalURL?[{rel:"canonical",href:s.seo.canonicalURL}]:[]});const t=f(()=>{var o;return((o=s==null?void 0:s.pageBlocks)==null?void 0:o.filter(n=>n.__typename==="ComponentSharedHighlight"))||[]}),a=N([]),u=f(()=>{var n;const o=new Set;return(n=t.value)==null||n.forEach(_=>{var B;(B=_.categories)==null||B.forEach(p=>{p!=null&&p.name&&o.add(p.name)})}),Array.from(o)}),b=f(()=>t.value?a.value.length===0?t.value:t.value.filter(o=>{var n;return(n=o.categories)==null?void 0:n.some(_=>a.value.includes(_.name))}):[]);return(o,n)=>(g(),h("div",{class:i(o.$style.highlights)},[c("h1",{class:i(o.$style.title)},"Highlights",2),A(ge,{availableCategories:u.value,selectedCategories:a.value,"onUpdate:selectedCategories":n[0]||(n[0]=_=>a.value=_)},null,8,["availableCategories","selectedCategories"]),c("div",{class:i(o.$style.grid)},[(g(!0),h($,null,y(b.value,_=>(g(),H(te,{key:_.id,highlight:_},null,8,["highlight"]))),128))],2)],2))}}),_e="_highlights_17ubz_1",de="_title_17ubz_12",he="_grid_17ubz_18",pe={highlights:_e,title:de,grid:he},me={$style:pe},ye=v(ue,[["__cssModules",me]]);export{ye as default};
