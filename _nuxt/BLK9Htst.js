import{H as M}from"./BnarRF5A.js";import{f as H,c as g,n as c,a as F,i as E,F as N,r as S,o as u,t as V,_ as w,l as B,g as A,X as C,b as k}from"./0ACiJ0zX.js";import{u as D}from"./Be-jVxO4.js";import{u as P}from"./CM8gRghk.js";import"./C62EyCot.js";import"./BEwFzCAa.js";const z=["onClick"],L=H({__name:"CategoryFilter",props:{availableCategories:{},selectedCategories:{}},emits:["update:selectedCategories"],setup(p,{emit:i}){const o=p,d=i,m=e=>{const n=o.selectedCategories.includes(e)?o.selectedCategories.filter(s=>s!==e):[...o.selectedCategories,e];d("update:selectedCategories",n)},r=()=>{d("update:selectedCategories",[])};return(e,n)=>(u(),g("div",{class:c(e.$style.filter)},[F("div",{class:c(e.$style.categories)},[(u(!0),g(N,null,S(e.availableCategories,s=>(u(),g("button",{key:s,class:c([e.$style.category,{[e.$style.active]:e.selectedCategories.includes(s)}]),onClick:f=>m(s)},V(s),11,z))),128)),e.selectedCategories.length>0?(u(),g("button",{key:0,class:c(e.$style.clearButton),onClick:r,"aria-label":"Clear filters"}," Ã— ",2)):E("",!0)],2)],2))}}),T="_filter_1n384_1",U="_categories_1n384_5",X="_category_1n384_11",j="_active_1n384_20",q="_clearButton_1n384_26",G={filter:T,categories:U,category:X,active:j,clearButton:q},I={$style:G},J=w(L,[["__cssModules",I]]),K=H({__name:"index",async setup(p){var v,y,b,$;let i,o;const{getPageBySlug:d,getHighlightBlocks:m}=D(),r=B([]),e=B(null);e.value=([i,o]=A(()=>d("highlights")),i=await i,o(),i),P({title:(y=(v=e.value)==null?void 0:v.seo)==null?void 0:y.metaTitle,meta:[{name:"description",content:($=(b=e.value)==null?void 0:b.seo)==null?void 0:$.metaDescription}]});const n=C(()=>e.value?m(e.value):[]),s=C(()=>{var a;const t=new Set;return(a=n.value)==null||a.forEach(l=>{var h;l&&((h=l.categories)==null||h.forEach(_=>{_!=null&&_.name&&t.add(_.name)}))}),Array.from(t)}),f=C(()=>{if(!n.value)return[];const t=n.value.filter(Boolean);return r.value.length===0?t:t.filter(a=>{var l;return(l=a.categories)==null?void 0:l.some(h=>r.value.includes(h.name))})});return(t,a)=>(u(),g("div",{class:c([t.$style.highlights,t.$style.page])},[F("h1",{class:c(t.$style.title)},"Highlights",2),k(J,{availableCategories:s.value,selectedCategories:r.value,"onUpdate:selectedCategories":a[0]||(a[0]=l=>r.value=l)},null,8,["availableCategories","selectedCategories"]),k(M,{highlights:f.value},null,8,["highlights"])],2))}}),O="_highlights_164bb_1",Q="_title_164bb_13",R={highlights:O,title:Q},W={$style:R},ae=w(K,[["__cssModules",W]]);export{ae as default};
