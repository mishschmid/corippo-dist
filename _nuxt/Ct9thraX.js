import{g as b,q as _,c,o as n,j as z,a as g,n as a,_ as U,D as L,x as N,e as S,w as R,b as H,t as C,F as k,r as w,k as A,h as D}from"./CfUZX48A.js";import{u as F}from"./CZhiKhJu.js";import{u as P}from"./_hU6d2rS.js";import{a as T}from"./BFbBSH-0.js";var j={};const E=["srcset"],V=["srcset"],W=["src","alt","width","height","loading"],q=b({__name:"Image",props:{src:{},alt:{},width:{default:void 0},height:{default:void 0},className:{default:""},lazy:{type:Boolean,default:!0}},setup(p){const t=p,i=(e,m)=>{if(!e)return"";if(e.startsWith("http"))return e;if(e.startsWith("/uploads/")){const v=j.NUXT_PUBLIC_STRAPI_URL||"/corippo-dist";if(m){const $=e.split("/"),f=$.pop();return`${v}${$.join("/")}/${m}_${f}`}return`${v}${e}`}return e},r=_(()=>i(t.src)),l=_(()=>i(t.src,"large")),s=_(()=>i(t.src,"medium")),o=_(()=>i(t.src,"small"));return(e,m)=>(n(),c("picture",null,[l.value?(n(),c("source",{key:0,srcset:l.value,media:"(min-width: 1024px)"},null,8,E)):z("",!0),s.value?(n(),c("source",{key:1,srcset:s.value,media:"(min-width: 768px)"},null,8,V)):z("",!0),g("img",{src:o.value||r.value,alt:e.alt,class:a([e.$style.image,e.className]),width:e.width,height:e.height,loading:e.lazy?"lazy":"eager"},null,10,W)]))}}),X="_image_12b0u_1",G={image:X},J={$style:G},K=U(q,[["__cssModules",J]]),O=()=>{var r;const t=((r=L().app)==null?void 0:r.baseURL)||"/";return{getImageUrl:l=>{if(!l)return"";const s=l.includes("/uploads")?l.split("/uploads/")[1]:l.replace(/^\/+/,"");return`${t}uploads/${s}`}}},Q=b({__name:"HighlightCard",props:{highlight:{}},setup(p){return O(),(t,i)=>{const r=K,l=S;return n(),N(l,{to:`/highlights/${t.highlight.slug}`,class:a(t.$style.card)},{default:R(()=>{var s,o;return[g("div",{class:a(t.$style.image)},[H(r,{src:((s=t.highlight.headerImage)==null?void 0:s.url)||"/images/placeholder.jpg",alt:((o=t.highlight.headerImage)==null?void 0:o.alternativeText)||t.highlight.title,lazy:!1},null,8,["src","alt"])],2),g("div",{class:a(t.$style.content)},[g("h3",{class:a(t.$style.title)},C(t.highlight.title),3),g("p",{class:a(t.$style.description)},C(t.highlight.description),3),g("div",{class:a(t.$style.categories)},[(n(!0),c(k,null,w(t.highlight.categories,e=>(n(),c("span",{key:e.slug,class:a(t.$style.category)},C(e.name),3))),128))],2)],2)]}),_:1},8,["to","class"])}}}),Y="_card_1pb4t_1",Z="_image_1pb4t_15",x="_content_1pb4t_26",ee="_title_1pb4t_30",te="_description_1pb4t_36",se="_categories_1pb4t_42",ae="_category_1pb4t_48",ie={card:Y,image:Z,content:x,title:ee,description:te,categories:se,category:ae},le={$style:ie},oe=U(Q,[["__cssModules",le]]),ne=["onClick"],re=b({__name:"CategoryFilter",props:{availableCategories:{},selectedCategories:{}},emits:["update:selectedCategories"],setup(p,{emit:t}){const i=p,r=t,l=s=>{const o=i.selectedCategories.includes(s)?i.selectedCategories.filter(e=>e!==s):[...i.selectedCategories,s];r("update:selectedCategories",o)};return(s,o)=>(n(),c("div",{class:a(s.$style.filter)},[g("div",{class:a(s.$style.categories)},[(n(!0),c(k,null,w(s.availableCategories,e=>(n(),c("button",{key:e,class:a([s.$style.category,{[s.$style.active]:s.selectedCategories.includes(e)}]),onClick:m=>l(e)},C(e),11,ne))),128))],2)],2))}}),ce="_filter_1exu3_1",ge="_categories_1exu3_5",ue="_category_1exu3_11",de="_active_1exu3_23",he={filter:ce,categories:ge,category:ue,active:de},_e={$style:he},pe=U(re,[["__cssModules",_e]]),me=b({__name:"index",async setup(p){var $,f,I,B;let t,i;const{getPageBySlug:r,getHighlightBlocks:l}=F(),s=A([]),{data:o}=([t,i]=D(async()=>T("highlights",async()=>await r("highlights"))),t=await t,i(),t);P({title:(f=($=o.value)==null?void 0:$.seo)==null?void 0:f.metaTitle,meta:[{name:"description",content:(B=(I=o.value)==null?void 0:I.seo)==null?void 0:B.metaDescription}]});const e=_(()=>o.value?l(o.value):[]),m=_(()=>{var d;const u=new Set;return(d=e.value)==null||d.forEach(h=>{var M;(M=h.categories)==null||M.forEach(y=>{y!=null&&y.name&&u.add(y.name)})}),Array.from(u)}),v=_(()=>e.value?s.value.length===0?e.value:e.value.filter(u=>{var d;return(d=u.categories)==null?void 0:d.some(h=>s.value.includes(h.name))}):[]);return(u,d)=>(n(),c("div",{class:a(u.$style.highlights)},[g("h1",{class:a(u.$style.title)},"Highlights",2),H(pe,{availableCategories:m.value,selectedCategories:s.value,"onUpdate:selectedCategories":d[0]||(d[0]=h=>s.value=h)},null,8,["availableCategories","selectedCategories"]),g("div",{class:a(u.$style.grid)},[(n(!0),c(k,null,w(v.value,h=>(n(),N(oe,{key:h.slug,highlight:h},null,8,["highlight"]))),128))],2)],2))}}),$e="_highlights_17ubz_1",ve="_title_17ubz_12",fe="_grid_17ubz_18",ye={highlights:$e,title:ve,grid:fe},Ce={$style:ye},Ie=U(me,[["__cssModules",Ce]]);export{Ie as default};
