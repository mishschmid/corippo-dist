import{aj as z,ak as L,al as j,am as $,an as D,ao as R,ap as C,aq as U,g as w,i as B,ar as T,as as G,j as Z,c as J,r as K,o as Q,at as x,au as V}from"./dYVBLJtB.js";async function X(e,t){return await Y(t).catch(r=>(console.error("Failed to get image meta for "+t,r+""),{width:0,height:0,ratio:0}))}async function Y(e){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((t,i)=>{const r=new Image;r.onload=()=>{const s={width:r.width,height:r.height,ratio:r.width/r.height};t(s)},r.onerror=s=>i(s),r.src=e})}function E(e){return t=>t!==void 0?e[t]||t:e.missingValue}function ee(e={}){const t=e.formatter,i=e.keyMap&&typeof e.keyMap!="function"?E(e.keyMap):e.keyMap,r={};for(const s in e.valueMap){const o=s,n=e.valueMap[o];r[o]=typeof n=="object"?E(n):n}return s=>{const o=[];for(const n in s){const a=n;if(typeof s[a]>"u")continue;const l=typeof r[a]=="function"?r[a](s[a]):s[a];o.push([i?i(a):a,l])}return t?o.map(n=>t(...n)).join(e.joinWith??"&"):new URLSearchParams(o).toString()}}function te(e=""){if(e===void 0||!e.length)return[];const t=new Set;for(const i of e.split(" ")){const r=Number.parseInt(i.replace("x",""));r&&t.add(r)}return Array.from(t)}function re(e){if(e.length===0)throw new Error("`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)")}function _(e=""){if(typeof e=="number")return e;if(typeof e=="string"&&e.replace("px","").match(/^\d+$/g))return Number.parseInt(e,10)}function ie(e){const t={};if(typeof e=="string")for(const i of e.split(/[\s,]+/).filter(r=>r)){const r=i.split(":");r.length!==2?t["1px"]=r[0].trim():t[r[0].trim()]=r[1].trim()}else Object.assign(t,e);return t}function se(e){const t={options:e},i=(s,o={})=>O(t,s,o),r=(s,o,n)=>i(s,z({modifiers:o},n)).url;for(const s in e.presets)r[s]=(o,n,a)=>r(o,n,{...e.presets[s],...a});return r.options=e,r.getImage=i,r.getMeta=(s,o)=>oe(t,s,o),r.getSizes=(s,o)=>ae(t,s,o),t.$img=r,r}async function oe(e,t,i){const r=O(e,t,{...i});return typeof r.getMeta=="function"?await r.getMeta():await X(e,r.url)}function O(e,t,i){var g,y;if(t&&typeof t!="string")throw new TypeError(`input must be a string (received ${typeof t}: ${JSON.stringify(t)})`);if(!t||t.startsWith("data:"))return{url:t};const{setup:r,defaults:s}=ne(e,i.provider||e.options.provider),o=r(),n=F(e,i.preset);if(t=j(t)?t:L(t),!o.supportsAlias){for(const u in e.options.alias)if(t.startsWith(u)){const m=e.options.alias[u];m&&(t=$(m,t.slice(u.length)))}}if(o.validateDomains&&j(t)){const u=D(t).host;if(!e.options.domains.find(m=>m===u))return{url:t}}const a=z(i,n,s),l={...a,modifiers:{...a.modifiers,width:(g=a.modifiers)!=null&&g.width?_(a.modifiers.width):void 0,height:(y=a.modifiers)!=null&&y.height?_(a.modifiers.height):void 0}},d=o.getImage(t,l,e);return d.format||(d.format=l.modifiers.format||""),d}function ne(e,t){const i=e.options.providers[t];if(!i)throw new Error("Unknown provider: "+t);return i}function F(e,t){if(!t)return{};if(!e.options.presets[t])throw new Error("Unknown preset: "+t);return e.options.presets[t]}function ae(e,t,i){var p,c,h,q,k;const r=F(e,i.preset),s=z(i,r),o=_((p=s.modifiers)==null?void 0:p.width),n=_((c=s.modifiers)==null?void 0:c.height),a=s.sizes?ie(s.sizes):{},l=(h=s.densities)==null?void 0:h.trim(),d=l?te(l):e.options.densities;re(d);const g=o&&n?n/o:0,y=[],u=[];if(Object.keys(a).length>=1){for(const f in a){const v=I(f,String(a[f]),n,g,e);if(v!==void 0){y.push({size:v.size,screenMaxWidth:v.screenMaxWidth,media:`(max-width: ${v.screenMaxWidth}px)`});for(const S of d)u.push({width:v._cWidth*S,src:A(e,t,i,v,S)})}}ce(y)}else for(const f of d){const v=Object.keys(a)[0];let S=v?I(v,String(a[v]),n,g,e):void 0;S===void 0&&(S={size:"",screenMaxWidth:0,_cWidth:(q=i.modifiers)==null?void 0:q.width,_cHeight:(k=i.modifiers)==null?void 0:k.height}),u.push({width:f,src:A(e,t,i,S,f)})}le(u);const m=u[u.length-1],b=y.length?y.map(f=>`${f.media?f.media+" ":""}${f.size}`).join(", "):void 0,M=b?"w":"x",W=u.map(f=>`${f.src} ${f.width}${M}`).join(", ");return{sizes:b,srcset:W,src:m==null?void 0:m.src}}function I(e,t,i,r,s){const o=s.options.screens&&s.options.screens[e]||Number.parseInt(e),n=t.endsWith("vw");if(!n&&/^\d+$/.test(t)&&(t=t+"px"),!n&&!t.endsWith("px"))return;let a=Number.parseInt(t);if(!o||!a)return;n&&(a=Math.round(a/100*o));const l=r?Math.round(a*r):i;return{size:t,screenMaxWidth:o,_cWidth:a,_cHeight:l}}function A(e,t,i,r,s){return e.$img(t,{...i.modifiers,width:r._cWidth?r._cWidth*s:void 0,height:r._cHeight?r._cHeight*s:void 0},i)}function ce(e){var i;e.sort((r,s)=>r.screenMaxWidth-s.screenMaxWidth);let t=null;for(let r=e.length-1;r>=0;r--){const s=e[r];s.media===t&&e.splice(r,1),t=s.media}for(let r=0;r<e.length;r++)e[r].media=((i=e[r+1])==null?void 0:i.media)||""}function le(e){e.sort((i,r)=>i.width-r.width);let t=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.width===t&&e.splice(i,1),t=r.width}}function de(e){let t;return()=>t||(t=typeof e=="function"?e():e,t)}const P=e=>e.startsWith("#")?e.replace("#","rgb_"):e,ue=e=>e.replace(/\.[^/.]+$/,""),fe=ee({keyMap:{fit:"c",width:"w",height:"h",format:"f",quality:"q",background:"b",rotate:"a",roundCorner:"r",gravity:"g",effect:"e",color:"co",flags:"fl",dpr:"dpr",opacity:"o",overlay:"l",underlay:"u",transformation:"t",zoom:"z",colorSpace:"cs",customFunc:"fn",density:"dn",aspectRatio:"ar",blur:"e_blur"},valueMap:{fit:{fill:"fill",inside:"pad",outside:"lpad",cover:"lfill",contain:"scale",minCover:"mfit",minInside:"mpad",thumbnail:"thumb",cropping:"crop",coverLimit:"limit"},format:{jpeg:"jpg"},background(e){return P(e)},color(e){return P(e)},gravity:{auto:"auto",subject:"auto:subject",face:"face",sink:"sink",faceCenter:"face:center",multipleFaces:"faces",multipleFacesCenter:"faces:center",north:"north",northEast:"north_east",northWest:"north_west",west:"west",southWest:"south_west",south:"south",southEast:"south_east",east:"east",center:"center"}},joinWith:",",formatter:(e,t)=>R(e.includes("_")?`${e}:${t}`:`${e}_${t}`)}),me={format:"auto",quality:"auto"},N=/\/image\/upload\/(.*)$/,he=de({getImage:(e,{modifiers:t,baseURL:i="/"})=>{var a;const r=z(t,me),s=fe(r),o=(a=e.match(N))==null?void 0:a[1];o&&(i=e.replace(o,""),e=o);const n=i.match(N);if(n&&(n==null?void 0:n.length)>=1){const l=n[1],d=i.replace(l,"");return{url:$(d,s,l,e)}}else/\/image\/fetch\/?/.test(i)?e=R(e):e=ue(e);return{url:$(i,s,e)}}}),ge={screens:{sm:640,md:768,lg:1024,xl:1280,"2xl":1536,xs:320,xxl:1536},presets:{},provider:"cloudinary",domains:[],alias:{},densities:[1,2],format:["webp","webp"],quality:80,provider:"cloudinary",providers:{cloudinary:{setup:he,defaults:{baseURL:"https://res.cloudinary.com/de1fvxs4z/image/upload/"}}}},H=e=>{var r;const t=U(),i=C();return i.$img||i._img||(i._img=se({...ge,event:(r=i.ssrContext)==null?void 0:r.event,nuxt:{baseURL:t.app.baseURL},runtimeConfig:t}))};function pe(e){var t;(t=performance==null?void 0:performance.mark)==null||t.call(performance,"mark_feature_usage",{detail:{feature:e}})}const ve=e=>{const t=H(),i=w(()=>({provider:e.provider,preset:e.preset})),r=w(()=>({width:_(e.width),height:_(e.height),crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,nonce:e.nonce})),s=w(()=>({...e.modifiers,width:e.width,height:e.height,format:e.format,quality:e.quality||t.options.quality,background:e.background,fit:e.fit}));return{providerOptions:i,normalizedAttrs:r,imageModifiers:s}},ye=["src"],be={__name:"NuxtImg",props:{custom:{type:Boolean,required:!1},placeholder:{type:[Boolean,String,Number,Array],required:!1},placeholderClass:{type:String,required:!1},src:{type:String,required:!1},format:{type:String,required:!1},quality:{type:[String,Number],required:!1},background:{type:String,required:!1},fit:{type:String,required:!1},modifiers:{type:Object,required:!1},preset:{type:String,required:!1},provider:{type:null,required:!1},sizes:{type:[String,Object],required:!1},densities:{type:String,required:!1},preload:{type:[Boolean,Object],required:!1},width:{type:[String,Number],required:!1},height:{type:[String,Number],required:!1},crossorigin:{type:[String,Boolean],required:!1},nonce:{type:String,required:!1}},emits:["load","error"],setup(e,{expose:t,emit:i}){const r=e,s=i,o=H(),{providerOptions:n,normalizedAttrs:a,imageModifiers:l}=ve(r),d=w(()=>o.getSizes(r.src,{...n.value,sizes:r.sizes,densities:r.densities,modifiers:l.value})),g=B(!1),y=T(),u=w(()=>({...a.value,"data-nuxt-img":"",...!r.placeholder||g.value?{sizes:d.value.sizes,srcset:d.value.srcset}:{},...y})),m=w(()=>{if(g.value)return!1;const c=r.placeholder===""?[10,10]:r.placeholder;if(!c)return!1;if(typeof c=="string")return c;const[h=10,q=h,k=50,f=3]=Array.isArray(c)?c:typeof c=="number"?[c]:[];return o(r.src,{...l.value,width:h,height:q,quality:k,blur:f},n.value)}),b=w(()=>r.sizes?d.value.src:o(r.src,l.value,n.value)),M=w(()=>m.value||b.value),W=C().isHydrating,p=G("imgEl");return t({imgEl:p}),Z(()=>{if(m.value||r.custom){const c=new Image;b.value&&(c.src=b.value),r.sizes&&(c.sizes=d.value.sizes||"",c.srcset=d.value.srcset),c.decode?c.decode().then(()=>{g.value=!0,s("load",new Event("load"))}).catch(h=>{s("error",h)}):(c.onload=h=>{g.value=!0,s("load",h)},c.onerror=h=>{s("error",h)}),pe("nuxt-image");return}p.value&&(p.value.complete&&W&&(p.value.getAttribute("data-error")?s("error",new Event("error")):s("load",new Event("load"))),p.value.onload=c=>{s("load",c)},p.value.onerror=c=>{s("error",c)})}),(c,h)=>e.custom?K(c.$slots,"default",V(x({key:1},{imgAttrs:u.value,isLoaded:g.value,src:M.value}))):(Q(),J("img",x({key:0,ref_key:"imgEl",ref:p,class:m.value?e.placeholderClass:void 0},u.value,{src:M.value}),null,16,ye))}};export{be as _};
