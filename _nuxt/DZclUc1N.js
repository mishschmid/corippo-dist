import{I as F}from"./DvxZrB17.js";import{D as L,g as v,v as M,o as r,e as S,n as a,w as z,a as h,b as U,t as m,c as d,F as y,r as $,_ as C,k as A,h as E,z as f}from"./4GGCP0Xc.js";import{u as N}from"./Cz27Gauu.js";import{u as R}from"./DbtTbLW_.js";import{a as P}from"./DGlWJ_eL.js";const T=()=>{var g;const e=((g=L().app)==null?void 0:g.baseURL)||"/corippo-dist";return{getImageUrl:i=>{if(!i)return"";if(i.startsWith("http"))return i;if(i.includes("/uploads/")){const t=i.split("/uploads/")[1];return`${e}/uploads/${t}`}return i}}},V=v({__name:"HighlightCard",props:{highlight:{}},setup(_){return T(),(e,c)=>{const g=F,i=S;return r(),M(i,{to:`/highlights/${e.highlight.slug}`,class:a(e.$style.card)},{default:z(()=>{var t,l;return[h("div",{class:a(e.$style.image)},[U(g,{src:((t=e.highlight.headerImage)==null?void 0:t.url)||"/images/placeholder.jpg",alt:((l=e.highlight.headerImage)==null?void 0:l.alternativeText)||e.highlight.title,lazy:!1},null,8,["src","alt"])],2),h("div",{class:a(e.$style.content)},[h("h3",{class:a(e.$style.title)},m(e.highlight.title),3),h("p",{class:a(e.$style.description)},m(e.highlight.description),3),h("div",{class:a(e.$style.categories)},[(r(!0),d(y,null,$(e.highlight.categories,s=>(r(),d("span",{key:s.slug,class:a(e.$style.category)},m(s.name),3))),128))],2)],2)]}),_:1},8,["to","class"])}}}),j="_card_1pb4t_1",W="_image_1pb4t_15",q="_content_1pb4t_26",G="_title_1pb4t_30",J="_description_1pb4t_36",K="_categories_1pb4t_42",O="_category_1pb4t_48",Q={card:j,image:W,content:q,title:G,description:J,categories:K,category:O},X={$style:Q},Y=C(V,[["__cssModules",X]]),Z=["onClick"],x=v({__name:"CategoryFilter",props:{availableCategories:{},selectedCategories:{}},emits:["update:selectedCategories"],setup(_,{emit:e}){const c=_,g=e,i=t=>{const l=c.selectedCategories.includes(t)?c.selectedCategories.filter(s=>s!==t):[...c.selectedCategories,t];g("update:selectedCategories",l)};return(t,l)=>(r(),d("div",{class:a(t.$style.filter)},[h("div",{class:a(t.$style.categories)},[(r(!0),d(y,null,$(t.availableCategories,s=>(r(),d("button",{key:s,class:a([t.$style.category,{[t.$style.active]:t.selectedCategories.includes(s)}]),onClick:b=>i(s)},m(s),11,Z))),128))],2)],2))}}),ee="_filter_1exu3_1",te="_categories_1exu3_5",se="_category_1exu3_11",ae="_active_1exu3_23",ie={filter:ee,categories:te,category:se,active:ae},le={$style:ie},oe=C(x,[["__cssModules",le]]),ne=v({__name:"index",async setup(_){var k,B,I,w;let e,c;const{getPageBySlug:g,getHighlightBlocks:i}=N(),t=A([]),{data:l}=([e,c]=E(async()=>P("highlights",async()=>await g("highlights"))),e=await e,c(),e);R({title:(B=(k=l.value)==null?void 0:k.seo)==null?void 0:B.metaTitle,meta:[{name:"description",content:(w=(I=l.value)==null?void 0:I.seo)==null?void 0:w.metaDescription}]});const s=f(()=>l.value?i(l.value):[]),b=f(()=>{var u;const o=new Set;return(u=s.value)==null||u.forEach(n=>{var H;n&&((H=n.categories)==null||H.forEach(p=>{p!=null&&p.name&&o.add(p.name)}))}),Array.from(o)}),D=f(()=>s.value?t.value.length===0?s.value.filter(Boolean):s.value.filter(Boolean).filter(o=>{var u;return(u=o.categories)==null?void 0:u.some(n=>t.value.includes(n.name))}):[]);return(o,u)=>(r(),d("div",{class:a([o.$style.highlights,o.$style.page])},[h("h1",{class:a(o.$style.title)},"Highlights",2),U(oe,{availableCategories:b.value,selectedCategories:t.value,"onUpdate:selectedCategories":u[0]||(u[0]=n=>t.value=n)},null,8,["availableCategories","selectedCategories"]),h("div",{class:a(o.$style.grid)},[(r(!0),d(y,null,$(D.value,n=>(r(),M(Y,{key:n.slug,highlight:n},null,8,["highlight"]))),128))],2)],2))}}),re="_highlights_1gdch_1",ce="_title_1gdch_12",ge="_grid_1gdch_18",ue={highlights:re,title:ce,grid:ge},he={$style:ue},ve=C(ne,[["__cssModules",he]]);export{ve as default};
