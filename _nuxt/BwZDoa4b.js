import{u as A,I as D}from"./CeDfFFZs.js";import{f as $,s as y,x as F,o as r,e as E,n as a,w as N,a as u,b as S,t as f,c as h,F as C,r as b,_ as k,j as U,g as j}from"./cNQSAbPe.js";import{u as z}from"./CFqmgn4X.js";import{u as L}from"./DTHzW13K.js";import{a as P}from"./B8oXBraj.js";const T=$({__name:"HighlightCard",props:{highlight:{}},setup(p){const{getImageUrl:n}=A(),c=p,d=y(()=>{var e;return n((e=c.highlight.headerImage)==null?void 0:e.url)||"/images/placeholder.jpg"});return(e,t)=>{const i=D,s=E;return r(),F(s,{to:`/highlights/${e.highlight.slug}`,class:a(e.$style.card)},{default:N(()=>{var _;return[u("div",{class:a(e.$style.image)},[S(i,{src:d.value,alt:((_=e.highlight.headerImage)==null?void 0:_.alternativeText)||e.highlight.title,lazy:!1},null,8,["src","alt"])],2),u("div",{class:a(e.$style.content)},[u("h3",{class:a(e.$style.title)},f(e.highlight.title),3),u("p",{class:a(e.$style.description)},f(e.highlight.description),3),u("div",{class:a(e.$style.categories)},[(r(!0),h(C,null,b(e.highlight.categories,m=>(r(),h("span",{key:m.slug,class:a(e.$style.category)},f(m.name),3))),128))],2)],2)]}),_:1},8,["to","class"])}}}),V="_card_1pb4t_1",q="_image_1pb4t_15",G="_content_1pb4t_26",J="_title_1pb4t_30",K="_description_1pb4t_36",O="_categories_1pb4t_42",Q="_category_1pb4t_48",R={card:V,image:q,content:G,title:J,description:K,categories:O,category:Q},W={$style:R},X=k(T,[["__cssModules",W]]),Y=["onClick"],Z=$({__name:"CategoryFilter",props:{availableCategories:{},selectedCategories:{}},emits:["update:selectedCategories"],setup(p,{emit:n}){const c=p,d=n,e=t=>{const i=c.selectedCategories.includes(t)?c.selectedCategories.filter(s=>s!==t):[...c.selectedCategories,t];d("update:selectedCategories",i)};return(t,i)=>(r(),h("div",{class:a(t.$style.filter)},[u("div",{class:a(t.$style.categories)},[(r(!0),h(C,null,b(t.availableCategories,s=>(r(),h("button",{key:s,class:a([t.$style.category,{[t.$style.active]:t.selectedCategories.includes(s)}]),onClick:_=>e(s)},f(s),11,Y))),128))],2)],2))}}),x="_filter_1exu3_1",ee="_categories_1exu3_5",te="_category_1exu3_11",se="_active_1exu3_23",ae={filter:x,categories:ee,category:te,active:se},ie={$style:ae},le=k(Z,[["__cssModules",ie]]),oe=$({__name:"index",async setup(p){var B,w,I,H;let n,c;const{getPageBySlug:d,getHighlightBlocks:e}=z(),t=U([]),{data:i}=([n,c]=j(async()=>P("highlights",async()=>await d("highlights"))),n=await n,c(),n);L({title:(w=(B=i.value)==null?void 0:B.seo)==null?void 0:w.metaTitle,meta:[{name:"description",content:(H=(I=i.value)==null?void 0:I.seo)==null?void 0:H.metaDescription}]});const s=y(()=>i.value?e(i.value):[]),_=y(()=>{var g;const l=new Set;return(g=s.value)==null||g.forEach(o=>{var M;o&&((M=o.categories)==null||M.forEach(v=>{v!=null&&v.name&&l.add(v.name)}))}),Array.from(l)}),m=y(()=>s.value?t.value.length===0?s.value.filter(Boolean):s.value.filter(Boolean).filter(l=>{var g;return(g=l.categories)==null?void 0:g.some(o=>t.value.includes(o.name))}):[]);return(l,g)=>(r(),h("div",{class:a([l.$style.highlights,l.$style.page])},[u("h1",{class:a(l.$style.title)},"Highlights",2),S(le,{availableCategories:_.value,selectedCategories:t.value,"onUpdate:selectedCategories":g[0]||(g[0]=o=>t.value=o)},null,8,["availableCategories","selectedCategories"]),u("div",{class:a(l.$style.grid)},[(r(!0),h(C,null,b(m.value,o=>(r(),F(X,{key:o.slug,highlight:o},null,8,["highlight"]))),128))],2)],2))}}),re="_highlights_1gdch_1",ne="_title_1gdch_12",ce="_grid_1gdch_18",ge={highlights:re,title:ne,grid:ce},ue={$style:ge},ve=k(oe,[["__cssModules",ue]]);export{ve as default};
