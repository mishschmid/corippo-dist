import{k as M,g as C,l as H,o as g,e as I,n as i,w as S,a as c,i as z,t as m,c as _,F as $,r as y,_ as v,h as F,m as f,p as L,b as R,u as E}from"./AHg7UfEi.js";import{u as N}from"./BNwxThRg.js";import{u as A}from"./BdmXhP1m.js";const D=()=>{const o=M().public.strapiUrl.replace("/graphql","");return{getImageUrl:r=>r?r.startsWith("http")?r:`${o}${r}`:""}},P=["src","alt"],V=C({__name:"HighlightCard",props:{highlight:{}},setup(d){const{getImageUrl:o}=D();return(e,r)=>{const s=I;return g(),H(s,{to:`/highlights/${e.highlight.slug}`,class:i(e.$style.card)},{default:S(()=>{var t;return[c("div",{class:i(e.$style.image)},[c("img",{src:z(o)((t=e.highlight.headerImage)==null?void 0:t.url),alt:e.highlight.title},null,8,P)],2),c("div",{class:i(e.$style.content)},[c("h3",{class:i(e.$style.title)},m(e.highlight.title),3),c("p",{class:i(e.$style.description)},m(e.highlight.description),3),c("div",{class:i(e.$style.tags)},[(g(!0),_($,null,y(e.highlight.categories,a=>(g(),_("span",{key:a.slug,class:i(e.$style.category)},m(a.name),3))),128))],2)],2)]}),_:1},8,["to","class"])}}}),q="_card_1pb4t_1",T="_image_1pb4t_15",W="_content_1pb4t_26",j="_title_1pb4t_30",G="_description_1pb4t_36",J="_categories_1pb4t_42",K="_category_1pb4t_48",O={card:q,image:T,content:W,title:j,description:G,categories:J,category:K},Q={$style:O},X=v(V,[["__cssModules",Q]]),Y=["onClick"],Z=C({__name:"CategoryFilter",props:{availableCategories:{},selectedCategories:{}},emits:["update:selectedCategories"],setup(d,{emit:o}){const e=d,r=o,s=t=>{const a=e.selectedCategories.includes(t)?e.selectedCategories.filter(u=>u!==t):[...e.selectedCategories,t];console.log("newCategories:",a),r("update:selectedCategories",a)};return(t,a)=>(g(),_("div",{class:i(t.$style.filter)},[c("div",{class:i(t.$style.categories)},[(g(!0),_($,null,y(t.availableCategories,u=>(g(),_("button",{key:u,class:i([t.$style.category,{[t.$style.active]:t.selectedCategories.includes(u)}]),onClick:b=>s(u)},m(u),11,Y))),128))],2)],2))}}),x="_filter_1exu3_1",ee="_categories_1exu3_5",te="_category_1exu3_11",se="_active_1exu3_23",ie={filter:x,categories:ee,category:te,active:se},ae={$style:ie},le=v(Z,[["__cssModules",ae]]),oe=C({__name:"index",async setup(d){var k,U,w;let o,e;E();const{getPageBySlug:r}=N(),s=([o,e]=F(()=>r("highlights")),o=await o,e(),o);A({title:(k=s==null?void 0:s.seo)==null?void 0:k.metaTitle,meta:[{name:"description",content:(U=s==null?void 0:s.seo)==null?void 0:U.metaDescription}],link:(w=s==null?void 0:s.seo)!=null&&w.canonicalURL?[{rel:"canonical",href:s.seo.canonicalURL}]:[]});const t=f(()=>{var l;return((l=s==null?void 0:s.pageBlocks)==null?void 0:l.filter(n=>n.__typename==="ComponentSharedHighlight"))||[]}),a=L([]),u=f(()=>{var n;const l=new Set;return(n=t.value)==null||n.forEach(h=>{var B;(B=h.categories)==null||B.forEach(p=>{p!=null&&p.name&&l.add(p.name)})}),Array.from(l)}),b=f(()=>t.value?a.value.length===0?t.value:t.value.filter(l=>{var n;return(n=l.categories)==null?void 0:n.some(h=>a.value.includes(h.name))}):[]);return(l,n)=>(g(),_("div",{class:i(l.$style.highlights)},[c("h1",{class:i(l.$style.title)},"Highlights",2),R(le,{availableCategories:u.value,selectedCategories:a.value,"onUpdate:selectedCategories":n[0]||(n[0]=h=>a.value=h)},null,8,["availableCategories","selectedCategories"]),c("div",{class:i(l.$style.grid)},[(g(!0),_($,null,y(b.value,h=>(g(),H(X,{key:h.id,highlight:h},null,8,["highlight"]))),128))],2)],2))}}),ne="_highlights_17ubz_1",re="_title_17ubz_12",ce="_grid_17ubz_18",ge={highlights:ne,title:re,grid:ce},ue={$style:ge},pe=v(oe,[["__cssModules",ue]]);export{pe as default};
