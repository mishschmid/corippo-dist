import{k as L,l as M,m as F,g as C,p as H,o as u,e as I,n as i,w as R,a as g,i as S,t as m,c as h,F as $,r as v,_ as y,h as z,q as f,s as N,b as A,u as E}from"./AmZznP5S.js";import{u as D}from"./DhpWRnHx.js";import{u as P}from"./B9UqvJZ0.js";const V={nuxt:{}},q=L(V);function T(){const r=M();return r._appConfig||(r._appConfig=F(q)),r._appConfig}const j=()=>{const l=T().baseURL||"/";return{getImageUrl:c=>{if(!c)return"";const t=c.includes("/uploads")?c.split("/uploads")[1]:c;return`${l}uploads/${t}`}}},G=["src","alt"],J=C({__name:"HighlightCard",props:{highlight:{}},setup(r){const{getImageUrl:l}=j();return(e,c)=>{const t=I;return u(),H(t,{to:`/highlights/${e.highlight.slug}`,class:i(e.$style.card)},{default:R(()=>{var s;return[g("div",{class:i(e.$style.image)},[g("img",{src:S(l)((s=e.highlight.headerImage)==null?void 0:s.url),alt:e.highlight.title},null,8,G)],2),g("div",{class:i(e.$style.content)},[g("h3",{class:i(e.$style.title)},m(e.highlight.title),3),g("p",{class:i(e.$style.description)},m(e.highlight.description),3),g("div",{class:i(e.$style.tags)},[(u(!0),h($,null,v(e.highlight.categories,a=>(u(),h("span",{key:a.slug,class:i(e.$style.category)},m(a.name),3))),128))],2)],2)]}),_:1},8,["to","class"])}}}),K="_card_1pb4t_1",O="_image_1pb4t_15",Q="_content_1pb4t_26",W="_title_1pb4t_30",X="_description_1pb4t_36",Y="_categories_1pb4t_42",Z="_category_1pb4t_48",x={card:K,image:O,content:Q,title:W,description:X,categories:Y,category:Z},ee={$style:x},te=y(J,[["__cssModules",ee]]),se=["onClick"],ie=C({__name:"CategoryFilter",props:{availableCategories:{},selectedCategories:{}},emits:["update:selectedCategories"],setup(r,{emit:l}){const e=r,c=l,t=s=>{const a=e.selectedCategories.includes(s)?e.selectedCategories.filter(_=>_!==s):[...e.selectedCategories,s];console.log("newCategories:",a),c("update:selectedCategories",a)};return(s,a)=>(u(),h("div",{class:i(s.$style.filter)},[g("div",{class:i(s.$style.categories)},[(u(!0),h($,null,v(s.availableCategories,_=>(u(),h("button",{key:_,class:i([s.$style.category,{[s.$style.active]:s.selectedCategories.includes(_)}]),onClick:b=>t(_)},m(_),11,se))),128))],2)],2))}}),ae="_filter_1exu3_1",oe="_categories_1exu3_5",le="_category_1exu3_11",ne="_active_1exu3_23",re={filter:ae,categories:oe,category:le,active:ne},ce={$style:re},ge=y(ie,[["__cssModules",ce]]),ue=C({__name:"index",async setup(r){var k,U,w;let l,e;E();const{getPageBySlug:c}=D(),t=([l,e]=z(()=>c("highlights")),l=await l,e(),l);P({title:(k=t==null?void 0:t.seo)==null?void 0:k.metaTitle,meta:[{name:"description",content:(U=t==null?void 0:t.seo)==null?void 0:U.metaDescription}],link:(w=t==null?void 0:t.seo)!=null&&w.canonicalURL?[{rel:"canonical",href:t.seo.canonicalURL}]:[]});const s=f(()=>{var o;return((o=t==null?void 0:t.pageBlocks)==null?void 0:o.filter(n=>n.__typename==="ComponentSharedHighlight"))||[]}),a=N([]),_=f(()=>{var n;const o=new Set;return(n=s.value)==null||n.forEach(d=>{var B;(B=d.categories)==null||B.forEach(p=>{p!=null&&p.name&&o.add(p.name)})}),Array.from(o)}),b=f(()=>s.value?a.value.length===0?s.value:s.value.filter(o=>{var n;return(n=o.categories)==null?void 0:n.some(d=>a.value.includes(d.name))}):[]);return(o,n)=>(u(),h("div",{class:i(o.$style.highlights)},[g("h1",{class:i(o.$style.title)},"Highlights",2),A(ge,{availableCategories:_.value,selectedCategories:a.value,"onUpdate:selectedCategories":n[0]||(n[0]=d=>a.value=d)},null,8,["availableCategories","selectedCategories"]),g("div",{class:i(o.$style.grid)},[(u(!0),h($,null,v(b.value,d=>(u(),H(te,{key:d.id,highlight:d},null,8,["highlight"]))),128))],2)],2))}}),_e="_highlights_17ubz_1",de="_title_17ubz_12",he="_grid_17ubz_18",pe={highlights:_e,title:de,grid:he},me={$style:pe},ve=y(ue,[["__cssModules",me]]);export{ve as default};
