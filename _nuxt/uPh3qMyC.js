import{B as L,g as $,p as H,o as c,e as M,n as i,w as R,a as r,i as z,t as m,c as h,F as C,r as y,_ as v,h as I,z as f,k as S,b as F,u as E}from"./C3aVtvvE.js";import{u as N}from"./C1Nm0Lg1.js";import{u as A}from"./Cc2MKX9O.js";const D=()=>{var d;const l=((d=L().app)==null?void 0:d.baseURL)||"/";return{getImageUrl:e=>{if(!e)return"";const s=e.includes("/uploads")?e.split("/uploads/")[1]:e.replace(/^\/+/,"");return`${l}uploads/${s}`}}},P=["src","alt"],V=$({__name:"HighlightCard",props:{highlight:{}},setup(_){const{getImageUrl:l}=D();return(t,d)=>{const e=M;return c(),H(e,{to:`/highlights/${t.highlight.slug}`,class:i(t.$style.card)},{default:R(()=>{var s;return[r("div",{class:i(t.$style.image)},[r("img",{src:z(l)((s=t.highlight.headerImage)==null?void 0:s.url),alt:t.highlight.title},null,8,P)],2),r("div",{class:i(t.$style.content)},[r("h3",{class:i(t.$style.title)},m(t.highlight.title),3),r("p",{class:i(t.$style.description)},m(t.highlight.description),3),r("div",{class:i(t.$style.tags)},[(c(!0),h(C,null,y(t.highlight.categories,o=>(c(),h("span",{key:o.slug,class:i(t.$style.category)},m(o.name),3))),128))],2)],2)]}),_:1},8,["to","class"])}}}),T="_card_1pb4t_1",j="_image_1pb4t_15",q="_content_1pb4t_26",G="_title_1pb4t_30",J="_description_1pb4t_36",K="_categories_1pb4t_42",O="_category_1pb4t_48",Q={card:T,image:j,content:q,title:G,description:J,categories:K,category:O},W={$style:Q},X=v(V,[["__cssModules",W]]),Y=["onClick"],Z=$({__name:"CategoryFilter",props:{availableCategories:{},selectedCategories:{}},emits:["update:selectedCategories"],setup(_,{emit:l}){const t=_,d=l,e=s=>{const o=t.selectedCategories.includes(s)?t.selectedCategories.filter(g=>g!==s):[...t.selectedCategories,s];d("update:selectedCategories",o)};return(s,o)=>(c(),h("div",{class:i(s.$style.filter)},[r("div",{class:i(s.$style.categories)},[(c(!0),h(C,null,y(s.availableCategories,g=>(c(),h("button",{key:g,class:i([s.$style.category,{[s.$style.active]:s.selectedCategories.includes(g)}]),onClick:b=>e(g)},m(g),11,Y))),128))],2)],2))}}),x="_filter_1exu3_1",ee="_categories_1exu3_5",te="_category_1exu3_11",se="_active_1exu3_23",ie={filter:x,categories:ee,category:te,active:se},ae={$style:ie},le=v(Z,[["__cssModules",ae]]),oe=$({__name:"index",async setup(_){var k,U,B;let l,t;E();const{getPageBySlug:d}=N(),e=([l,t]=I(()=>d("highlights")),l=await l,t(),l);A({title:(k=e==null?void 0:e.seo)==null?void 0:k.metaTitle,meta:[{name:"description",content:(U=e==null?void 0:e.seo)==null?void 0:U.metaDescription}],link:(B=e==null?void 0:e.seo)!=null&&B.canonicalURL?[{rel:"canonical",href:e.seo.canonicalURL}]:[]});const s=f(()=>{var a;return((a=e==null?void 0:e.pageBlocks)==null?void 0:a.filter(n=>n.__typename==="ComponentSharedHighlight"))||[]}),o=S([]),g=f(()=>{var n;const a=new Set;return(n=s.value)==null||n.forEach(u=>{var w;(w=u.categories)==null||w.forEach(p=>{p!=null&&p.name&&a.add(p.name)})}),Array.from(a)}),b=f(()=>s.value?o.value.length===0?s.value:s.value.filter(a=>{var n;return(n=a.categories)==null?void 0:n.some(u=>o.value.includes(u.name))}):[]);return(a,n)=>(c(),h("div",{class:i(a.$style.highlights)},[r("h1",{class:i(a.$style.title)},"Highlights",2),F(le,{availableCategories:g.value,selectedCategories:o.value,"onUpdate:selectedCategories":n[0]||(n[0]=u=>o.value=u)},null,8,["availableCategories","selectedCategories"]),r("div",{class:i(a.$style.grid)},[(c(!0),h(C,null,y(b.value,u=>(c(),H(X,{key:u.id,highlight:u},null,8,["highlight"]))),128))],2)],2))}}),ne="_highlights_17ubz_1",re="_title_17ubz_12",ce="_grid_17ubz_18",ge={highlights:ne,title:re,grid:ce},ue={$style:ge},pe=v(oe,[["__cssModules",ue]]);export{pe as default};
