import{g as b,B as h,c as u,o as n,j as I,a as d,n as i,_ as U,E as R,p as L,e as z,w as N,b as M,t as C,F as k,r as w,h as S,k as H,u as E}from"./Cq2XOUdT.js";import{u as F}from"./qxZcmVLv.js";import{u as P}from"./BSPXyJBN.js";var A={};const T=["srcset"],V=["srcset"],j=["src","alt","width","height","loading"],D=b({__name:"Image",props:{src:{},alt:{},width:{default:void 0},height:{default:void 0},className:{default:""},lazy:{type:Boolean,default:!0}},setup(m){const e=m,l=(a,p)=>{if(!a)return"";if(a.startsWith("http"))return a;if(a.startsWith("/uploads/")){const $=A.NUXT_PUBLIC_STRAPI_URL||"";if(p){const f=a.split("/"),y=f.pop();return`${$}${f.join("/")}/${p}_${y}`}return`${$}${a}`}return a},c=h(()=>l(e.src)),t=h(()=>l(e.src,"large")),s=h(()=>l(e.src,"medium")),o=h(()=>l(e.src,"small"));return(a,p)=>(n(),u("picture",null,[t.value?(n(),u("source",{key:0,srcset:t.value,media:"(min-width: 1024px)"},null,8,T)):I("",!0),s.value?(n(),u("source",{key:1,srcset:s.value,media:"(min-width: 768px)"},null,8,V)):I("",!0),d("img",{src:o.value||c.value,alt:a.alt,class:i([a.$style.image,a.className]),width:a.width,height:a.height,loading:a.lazy?"lazy":"eager"},null,10,j)]))}}),W="_image_12b0u_1",X={image:W},q={$style:X},G=U(D,[["__cssModules",q]]),J=()=>{var c;const e=((c=R().app)==null?void 0:c.baseURL)||"/";return{getImageUrl:t=>{if(!t)return"";const s=t.includes("/uploads")?t.split("/uploads/")[1]:t.replace(/^\/+/,"");return`${e}uploads/${s}`}}},K=b({__name:"HighlightCard",props:{highlight:{}},setup(m){return J(),(e,l)=>{const c=G,t=z;return n(),L(t,{to:`/highlights/${e.highlight.slug}`,class:i(e.$style.card)},{default:N(()=>{var s;return[d("div",{class:i(e.$style.image)},[M(c,{src:(s=e.highlight.headerImage)==null?void 0:s.url,alt:e.highlight.title,lazy:!1},null,8,["src","alt"])],2),d("div",{class:i(e.$style.content)},[d("h3",{class:i(e.$style.title)},C(e.highlight.title),3),d("p",{class:i(e.$style.description)},C(e.highlight.description),3),d("div",{class:i(e.$style.tags)},[(n(!0),u(k,null,w(e.highlight.categories,o=>(n(),u("span",{key:o.slug,class:i(e.$style.category)},C(o.name),3))),128))],2)],2)]}),_:1},8,["to","class"])}}}),O="_card_1pb4t_1",Q="_image_1pb4t_15",Y="_content_1pb4t_26",Z="_title_1pb4t_30",x="_description_1pb4t_36",ee="_categories_1pb4t_42",te="_category_1pb4t_48",se={card:O,image:Q,content:Y,title:Z,description:x,categories:ee,category:te},ae={$style:se},ie=U(K,[["__cssModules",ae]]),le=["onClick"],oe=b({__name:"CategoryFilter",props:{availableCategories:{},selectedCategories:{}},emits:["update:selectedCategories"],setup(m,{emit:e}){const l=m,c=e,t=s=>{const o=l.selectedCategories.includes(s)?l.selectedCategories.filter(a=>a!==s):[...l.selectedCategories,s];c("update:selectedCategories",o)};return(s,o)=>(n(),u("div",{class:i(s.$style.filter)},[d("div",{class:i(s.$style.categories)},[(n(!0),u(k,null,w(s.availableCategories,a=>(n(),u("button",{key:a,class:i([s.$style.category,{[s.$style.active]:s.selectedCategories.includes(a)}]),onClick:p=>t(a)},C(a),11,le))),128))],2)],2))}}),ne="_filter_1exu3_1",re="_categories_1exu3_5",ce="_category_1exu3_11",ge="_active_1exu3_23",ue={filter:ne,categories:re,category:ce,active:ge},de={$style:ue},_e=U(oe,[["__cssModules",de]]),he=b({__name:"index",async setup(m){var $,f,y;let e,l;E();const{getPageBySlug:c}=F(),t=([e,l]=S(()=>c("highlights")),e=await e,l(),e);P({title:($=t==null?void 0:t.seo)==null?void 0:$.metaTitle,meta:[{name:"description",content:(f=t==null?void 0:t.seo)==null?void 0:f.metaDescription}],link:(y=t==null?void 0:t.seo)!=null&&y.canonicalURL?[{rel:"canonical",href:t.seo.canonicalURL}]:[]});const s=h(()=>{var r;return((r=t==null?void 0:t.pageBlocks)==null?void 0:r.filter(g=>g.__typename==="ComponentSharedHighlight"))||[]}),o=H([]),a=h(()=>{var g;const r=new Set;return(g=s.value)==null||g.forEach(_=>{var B;(B=_.categories)==null||B.forEach(v=>{v!=null&&v.name&&r.add(v.name)})}),Array.from(r)}),p=h(()=>s.value?o.value.length===0?s.value:s.value.filter(r=>{var g;return(g=r.categories)==null?void 0:g.some(_=>o.value.includes(_.name))}):[]);return(r,g)=>(n(),u("div",{class:i(r.$style.highlights)},[d("h1",{class:i(r.$style.title)},"Highlights",2),M(_e,{availableCategories:a.value,selectedCategories:o.value,"onUpdate:selectedCategories":g[0]||(g[0]=_=>o.value=_)},null,8,["availableCategories","selectedCategories"]),d("div",{class:i(r.$style.grid)},[(n(!0),u(k,null,w(p.value,_=>(n(),L(ie,{key:_.id,highlight:_},null,8,["highlight"]))),128))],2)],2))}}),me="_highlights_17ubz_1",pe="_title_17ubz_12",$e="_grid_17ubz_18",fe={highlights:me,title:pe,grid:$e},ye={$style:fe},Ue=U(he,[["__cssModules",ye]]);export{Ue as default};
